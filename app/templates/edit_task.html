<!-- edit_task.html -->
{% extends "base.html" %}

{% block content %}
<h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É</h2>

<form action="/edit/{{ task['id'] }}" method="post">
    <label>–ó–∞–¥–∞—á–∞:</label><br>
    <input type="text" name="content" style="width:600px;" value="{{ task['content'] }}" required><br><br>

    <label>–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–¥–∞—á–∞:</label><br>
    <select name="parent_id" style="width:610px;">
        <option value="">(–ì–ª–∞–≤–Ω–∞—è –∑–∞–¥–∞—á–∞)</option>
        {% for t in all_tasks %}
            <option value="{{ t['id'] }}" {% if t['id'] == task['parent_id'] %}selected{% endif %}>
                {{ "--- " * t['depth'] }}{{ t['content'] }}
            </option>
        {% endfor %}
    </select><br><br>

    <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</label><br>
    <textarea name="comment" style="width:600px; height:150px;">{{ task['comment'] }}</textarea><br><br>

    <button type="submit">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    <a href="/" style="margin-left:10px;">–û—Ç–º–µ–Ω–∞</a>

    <button type="button" class="delete-task-btn" data-task-id="{{ task['id'] }}">üóë –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É</button>
</form>

<script src="../static/Scripts/delete_confirmation.js"></script>

{% endblock %}
