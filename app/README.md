# DemoToDo

**DemoToDo** – это веб-приложение для управления задачами, разработанное с использованием Flask и SQLite. Приложение позволяет создавать, редактировать, удалять и выполнять задачи, а также организовывать их в иерархическую структуру с поддержкой подзадач. Кроме того, реализована интеграция с календарём с помощью FullCalendar.

## Ключевые особенности

- **Иерархия задач:**  
  Задачи можно структурировать в виде дерева, где каждая задача может содержать подзадачи. Реализована возможность сворачивания/разворачивания веток для удобного просмотра.

- **Управление задачами:**  
  - Добавление новых задач с выбором родительской задачи.
  - Редактирование содержания, комментариев и родительских связей.
  - Отметка задач как выполненных с возможностью отмены.
  - Установка текущей задачи.

- **Интерактивный интерфейс:**  
  - Использование jQuery и jQuery UI для перетаскивания задач внутри дерева.
  - Подсказки (tooltip) для задач.
  - Управление приоритетами с циклическим изменением (приоритеты 1, 2, 3).

- **Календарная интеграция:**  
  Отображение задач в календаре с помощью FullCalendar. Поддерживается drag-and-drop для переноса задач в календарь, изменение времени выполнения, а также удаление и редактирование событий календаря.

- **Локальное хранение состояний:**  
  Сохранение состояний сворачивания задач и видимости выполненных подзадач с использованием LocalStorage.

- **Автоматическая генерация базы данных:**  
  При первом запуске создаётся база данных, которая заполняется тестовыми данными для демонстрации работы приложения.

## Структура проекта

- **app.py** – Точка входа в приложение Flask. Здесь создаётся объект приложения, настраиваются секретные ключи и регистрируются маршруты.
- **database.py** – Модуль для работы с базой данных (SQLite). Содержит функции создания, инициализации и заполнения базы тестовыми данными.
- **routes.py** – Файл с определением маршрутов и обработчиков для CRUD-операций с задачами, управления текущей задачей и календарными событиями.
- **Шаблоны (templates):**
  - **base.html** – Базовый шаблон, содержащий общий каркас приложения (подключение стилей, скриптов, вывод flash-сообщений).
  - **index.html** – Основной шаблон, объединяющий отображение списка задач и календарь.
  - **task_form.html, task_list.html, edit_task.html** – Шаблоны для добавления, отображения и редактирования задач.
- **Статические файлы (static):**
  - **CSS:** Файлы стилей для оформления интерфейса, в том числе для календаря.
  - **JavaScript:** Набор скриптов для реализации интерактивного функционала:
    - **tasks_collapse.js, tasks-completed.js:** Управление сворачиванием/разворачиванием задач и фильтрация подзадач.
    - **drag_drop.js, calendar_drag.js:** Реализация drag-and-drop для перемещения задач внутри дерева и переноса задач в календарь.
    - **calendar_init.js, calendar_buttons.js, calendar_actions.js:** Инициализация календаря, настройка кнопок и обработка событий календаря.
    - **priority.js, set_current_task.js:** Управление приоритетами задач и установка текущей задачи.
    - **tooltip.js, prefix_cleaner.js:** Дополнительные элементы интерактивного интерфейса (подсказки, очистка префиксов в выпадающих списках).

## Установка и запуск

1. **Клонирование репозитория:**

   ```bash
   git clone https://github.com/SametoiMax/DemoToDo.git
   cd DemoToDo